<!--
 * @Author: baisichen
 * @Date: 2021-05-10 10:20:04
 * @LastEditTime: 2021-05-21 16:37:56
 * @LastEditors: baisichen
 * @Description: 
-->
# 日期/类型
20210513 词法分析、字符串处理

# 题目描述

请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。

数值（按顺序）可以分成以下几个部分：

若干空格
一个 小数 或者 整数
（可选）一个 'e' 或 'E' ，后面跟着一个 整数
若干空格
小数（按顺序）可以分成以下几个部分：

（可选）一个符号字符（'+' 或 '-'）
下述格式之一：
至少一位数字，后面跟着一个点 '.'
至少一位数字，后面跟着一个点 '.' ，后面再跟着至少一位数字
一个点 '.' ，后面跟着至少一位数字
整数（按顺序）可以分成以下几个部分：

（可选）一个符号字符（'+' 或 '-'）
至少一位数字
部分数值列举如下：

["+100", "5e2", "-123", "3.1416", "-1E-16", "0123"]
部分非数值列举如下：

["12e", "1a3.14", "1.2.3", "+-5", "12e+5.4"]
 

``` cpp

示例 1：

输入：s = "0"
输出：true
示例 2：

输入：s = "e"
输出：false
示例 3：

输入：s = "."
输出：false
示例 4：

输入：s = "    .1  "
输出：true
```

# 思路(C++)

## 词法分析
算法逻辑参考: [词法分析-浮点数识别](https://github.com/ZYBaisichen/EduCoderCompilationPrinciple/blob/main/%E7%BB%83%E6%89%8B%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%AF%86%E5%88%AB/README.md)

- 在这个的基础上改一下输出，扫描不完整个字符串就返回、第一个字符进入不了状态机、扫描完字符串发现非法均返回false

- 所有状态遇到空格还是转移到本身状态
- 0状态增加识别第一个点进入状态机，直接转移到3状态，即小数部分
- 还需要区分非空和点前后可能没有数字的情况，最终的状态转移图如下：
<div align=center>
<img src="https://github.com/ZYBaisichen/MarkdownImages/blob/main/%E5%89%91%E6%8C%87%E7%AC%AC%E5%8D%81%E9%A2%98.png" />
</div>

### 复杂度
时间复杂度：O(n*n) ， 需要判断是否为文末空格，最坏为$n^2$, 可以通过优化文法来优化到n
空间复杂度：O(n*n)