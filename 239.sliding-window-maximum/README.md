<!--
 * @Author: baisichen
 * @Date: 2021-05-06 14:39:28
 * @LastEditTime: 2021-05-06 15:53:46
 * @LastEditors: baisichen
 * @Description: 
-->
# 日期/类型
20210506 每日一题
# 题目描述
给你一个整数数组 nums，有一个大小为 k 的滑动窗口从数组的最左侧移动到数组的最右侧。你只可以看到在滑动窗口内的 k 个数字。滑动窗口每次只向右移动一位。
``` cpp
输入：nums = [1,3,-1,-3,5,3,6,7], k = 3
输出：[3,3,5,5,6,7]
解释：
滑动窗口的位置                最大值
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

# 思路(C++)
看到这个题最先想到的是模拟方法，用两个下标i、j分别指向窗口的第一个和最后一个数字，每次边界往后加1，求最大值时遍历i到j的数字求得最大值放入结果集里面，这样做的复杂度是(n-k+1)*k，每次滑动窗口求得最值的复杂度为k。

如何在O(1)的复杂度下求得每次窗口k内的最大值呢? 假设当前滑动窗口中有任意两个下标i和j，i在j的左侧(即i<j), 如果nums[j]>nums[i]，当窗口向右移动时，只要nums[i]还在窗口中，则nums[j]一定也在窗口中，那窗口的最大值就不可能是nums[i]，这时就可以将nums[i]永久的移除了。

使用一个队列存储所有还没有被移除的数字。在队列中的数字从队头开始按照从大到小的顺序存储，每次一个新的数字过来了，意味着该数字比队列中的所有数字都要靠右，从队尾开始，比它小的数都应该被永久移除，直到找到不比他小的数字或队列为空为止，将此数字入到队尾。

每次队头的元素都是当前窗口的最大值，那么何时进行出队呢？只有当窗口的最后一个元素是最大值时最大值才有可能不是这个队头的值，此时进行出队


### 复杂度
时间复杂度：O(n), 每个数字恰好入一次队，且恰好弹出一次队
空间复杂度：O(k)，队列长度由于不停的从队尾和队头弹出，最多不会超过窗口的大小
